"use strict";(self.webpackChunk_upscalerjs_docs=self.webpackChunk_upscalerjs_docs||[]).push([[4392],{54852:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var r=a(49231);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=r.createContext({}),c=function(e){var t=r.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=c(e.components);return r.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(a),u=n,h=p["".concat(i,".").concat(u)]||p[u]||m[u]||l;return a?r.createElement(h,o(o({ref:t},d),{},{components:a})):r.createElement(h,o({ref:t},d))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,o=new Array(l);o[0]=p;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var c=2;c<l;c++)o[c]=a[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}p.displayName="MDXCreateElement"},49262:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(49231);const n="options_m2t7",l="option_RQh5",o="container_UfJ0",s="sampleTable_uRA1",i=a.p+"assets/images/flower-68f7f0f3aef93b31d3970db3321c8179.png",c=128;function d(e){let{packageName:t,models:a,scales:d}=e;const[m,p]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),f=(0,r.useMemo)((()=>d.reduce(((e,t)=>e<t?t:e),-1/0)),[d]),g=(0,r.useMemo)((()=>d.reduce(((e,t)=>u?e+f*c:e+t*c),u?f*c:c)),[d,u]);return r.createElement(r.Fragment,null,r.createElement("div",{className:n},r.createElement("div",{className:l},r.createElement("label",{htmlFor:"bicubic"},"View non-upscaled versions"),r.createElement("input",{onClick:()=>p((e=>!e)),type:"checkbox",id:"bicubic",name:"bicubic"})),r.createElement("div",{className:l},r.createElement("label",{htmlFor:"sameSize"},"View images all at same size"),r.createElement("input",{onClick:()=>h((e=>!e)),type:"checkbox",id:"sameSize",name:"same-size"}))),r.createElement("div",{className:o},r.createElement("table",{className:s,width:g},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Original"),a.map((e=>r.createElement("th",{key:e},e," ",m?"Original":"Upscaled"))))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("img",{alt:"Original image",src:i,width:u?f*c:c})),a.map(((e,a)=>{const n=d[a],l=(u?f:n)*c,o=m?i:`/assets/sample-images/${t}/samples/${e}/flower.png`;return r.createElement("td",{key:e},r.createElement("img",{alt:`Upscaled image using ${t}/${e}`,src:o,width:l}))})))))))}},19728:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var r=a(74011),n=(a(49231),a(54852)),l=a(49262);const o={category:"Browser",hide_table_of_contents:!0,sidebar_position:2,code_embed:{params:"embed=1&file=index.js&hideExplorer=1",type:"stackblitz",url:"/examples/models"}},s="Models",i={unversionedId:"documentation/guides/browser/models",id:"documentation/guides/browser/models",title:"Models",description:"View this page on the UpscalerJS website",source:"@site/docs/documentation/guides/browser/models.md",sourceDirName:"documentation/guides/browser",slug:"/documentation/guides/browser/models",permalink:"/documentation/guides/browser/models",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{category:"Browser",hide_table_of_contents:!0,sidebar_position:2,code_embed:{params:"embed=1&file=index.js&hideExplorer=1",type:"stackblitz",url:"/examples/models"}},sidebar:"documentationSidebar",previous:{title:"Usage with Script Tag",permalink:"/documentation/guides/browser/basic-umd"},next:{title:"Working with Tensors",permalink:"/documentation/guides/browser/tensors"}},c={},d=[{value:"Overview",id:"overview",level:2},{value:"Installing",id:"installing",level:2},{value:"Code",id:"code",level:2},{value:"How Models are Loaded in the Browser",id:"how-models-are-loaded-in-the-browser",level:2}],m={toc:d};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"models"},"Models"),(0,n.kt)("a",{class:"docs-link",href:"https://upscalerjs.com/documentation/guides/browser/models"},"View this page on the UpscalerJS website"),(0,n.kt)("p",null,"This guide discusses how models work in UpscalerJS."),(0,n.kt)("a",{href:"https://stackblitz.com/github/thekevinscott/upscalerjs/tree/main/examples/models?file=index.js&title=UpscalerJS: Models"},"Open example in Stackblitz"),".",(0,n.kt)("h2",{id:"overview"},"Overview"),(0,n.kt)("p",null,"UpscalerJS upscales images using neural networks trained on specific scales, configured in a variety of architecture sizes"),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"By default, UpscalerJS uses ",(0,n.kt)("inlineCode",{parentName:"p"},"default-model"),", ",(0,n.kt)("a",{parentName:"p",href:"/models/available/default-model"},"which is available here"),".")),(0,n.kt)("p",null,"UpscalerJS offers a number of ",(0,n.kt)("a",{parentName:"p",href:"/models"},"models")," for download and installation, depending on the use case. "),(0,n.kt)("h2",{id:"installing"},"Installing"),(0,n.kt)("p",null,"In this example, ",(0,n.kt)("a",{parentName:"p",href:"/models/available/esrgan-thick"},"we'll use ",(0,n.kt)("inlineCode",{parentName:"a"},"esrgan-thick")),", the most performant model. Install the model with:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @upscalerjs/esrgan-thick\n")),(0,n.kt)("h2",{id:"code"},"Code"),(0,n.kt)("p",null,"We'll need to decide what ",(0,n.kt)("em",{parentName:"p"},"scale")," model we wish to use. The larger the scale, generally the less accurate the resulting upscaled image will be."),(0,n.kt)(l.Z,{packageName:"esrgan-thick",models:["2x","3x","4x"],scales:[2,3,4],mdxType:"SampleTable"}),(0,n.kt)("p",null,"We'll use the 2x scale model. We can import the specific model with:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import x2 from '@upscalerjs/esrgan-thick/2x'\n")),(0,n.kt)("p",null,"And we can then pass the model as an argument to our upscaler:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import Upscaler from 'upscaler'\nconst upscaler = new Upscaler({\n  model: x2,\n})\n")),(0,n.kt)("p",null,"The resulting image will be upscaled using the ",(0,n.kt)("inlineCode",{parentName:"p"},"esrgan-thick")," model."),(0,n.kt)("h2",{id:"how-models-are-loaded-in-the-browser"},"How Models are Loaded in the Browser"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.tensorflow.org/js/guide/save_load#https"},"Tensorflow.js requires that models be available via a public URL"),". Therefore, UpscalerJS will attempt to load model files via a public CDN. The CDNs UpscalerJS loads from, by order of preference, include:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://www.jsdelivr.com"},(0,n.kt)("inlineCode",{parentName:"a"},"jsdelivr"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"http://unpkg.com"},(0,n.kt)("inlineCode",{parentName:"a"},"unpkg")))),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"If you want to avoid a CDN and self-host a model instead(or you've got a custom model) ",(0,n.kt)("a",{parentName:"p",href:"usage/self-hosting-models"},"check out the guide on self hosting"),".")))}p.isMDXComponent=!0}}]);