"use strict";(self.webpackChunk_upscalerjs_docs=self.webpackChunk_upscalerjs_docs||[]).push([[8101],{54852:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>d});var r=n(49231);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},m=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,f=u["".concat(c,".").concat(d)]||u[d]||l[d]||o;return n?r.createElement(f,s(s({ref:t},m),{},{components:n})):r.createElement(f,s({ref:t},m))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=u;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var p=2;p<o;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},73458:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=n(74011),a=(n(49231),n(54852));const o={category:"Browser",hide_table_of_contents:!0,sidebar_position:105,parent:"performance",code_embed:{params:"embed=1&file=index.js&hideExplorer=1",type:"stackblitz",url:"/examples/memory-management"}},s="Memory Management",i={unversionedId:"documentation/guides/browser/performance/memory-management",id:"documentation/guides/browser/performance/memory-management",title:"Memory Management",description:"View this page on the UpscalerJS website",source:"@site/docs/documentation/guides/browser/performance/memory-management.md",sourceDirName:"documentation/guides/browser/performance",slug:"/documentation/guides/browser/performance/memory-management",permalink:"/documentation/guides/browser/performance/memory-management",draft:!1,tags:[],version:"current",sidebarPosition:105,frontMatter:{category:"Browser",hide_table_of_contents:!0,sidebar_position:105,parent:"performance",code_embed:{params:"embed=1&file=index.js&hideExplorer=1",type:"stackblitz",url:"/examples/memory-management"}},sidebar:"documentationSidebar",previous:{title:"Web Worker Integration",permalink:"/documentation/guides/browser/performance/webworker"},next:{title:"Monitoring Progress",permalink:"/documentation/guides/browser/usage/progress"}},c={},p=[{value:"Disposing of an UpscalerJS Instance",id:"disposing-of-an-upscalerjs-instance",level:2}],m={toc:p};function l(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"memory-management"},"Memory Management"),(0,a.kt)("a",{class:"docs-link",href:"https://upscalerjs.com/documentation/guides/browser/performance/memory-management"},"View this page on the UpscalerJS website"),(0,a.kt)("p",null,"This guide demonstrates additional techniques for managing memory when using UpscalerJS."),(0,a.kt)("a",{href:"https://stackblitz.com/github/thekevinscott/upscalerjs/tree/main/examples/memory-management?file=index.js&title=UpscalerJS: Memory Management"},"Open in Stackblitz"),".",(0,a.kt)("h2",{id:"disposing-of-an-upscalerjs-instance"},"Disposing of an UpscalerJS Instance"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"The most important consideration about memory is to ",(0,a.kt)("strong",{parentName:"p"},"dispose of tensors"),". If you provide a tensor, or specify a ",(0,a.kt)("inlineCode",{parentName:"p"},"tensor")," as the return type, you are responsible for disposing of the tensor. ",(0,a.kt)("a",{parentName:"p",href:"../tensors#managing-memory"},"Read more about that here"),". (Any tensors ",(0,a.kt)("em",{parentName:"p"},"not")," explicitly specified, UpscalerJS will clear for you.)")),(0,a.kt)("p",null,"If working with multiple upscalers within a page, we may want to clean up upscaler instances when done with them. We can do so with the below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import Upscaler from 'upscaler'\nconst upscaler = new Upscaler()\n\nupscale.dispose().then(() => {\n  console.log('UpscalerJS is cleaned up')\n})\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"dispose")," will return a promise that resolves once all memory is freed up. All inflight upscale requests will be aborted."),(0,a.kt)("p",null,"Next we can learn about additional arguments and methods that we can use to interact with an UpscalerJS instance."))}l.isMDXComponent=!0}}]);